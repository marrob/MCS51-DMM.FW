C51 COMPILER V9.02   KNVLIB                                                                12/18/2021 23:04:50 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE KNVLIB
OBJECT MODULE PLACED IN .\output\knvlib.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE knvlib.c BROWSE INCDIR(./) DEBUG OBJECTEXTEND TABS(2) OBJECT(.\output\kn
                    -vlib.obj)

line level    source

*** WARNING C500 IN LINE 1 OF KNVLIB.C: LICENSE ERROR (R208: RENEW LICENSE ID CODE (LIC))

   1          /* Includes ------------------------------------------------------------------*/
   2          #include "knvlib.h"
   3          #include <reg51.h>
   4          /* Private typedef -----------------------------------------------------------*/
   5          /* Private define ------------------------------------------------------------*/
   6          /* Private macro -------------------------------------------------------------*/
   7          #define T0_PERIOD (65535 - ((SystemCoreClock/12)/1000)) /*1ms interrupt*/
   8          
   9          /* Private variables ---------------------------------------------------------*/
  10          volatile uint32_t SysTick;   /*Increment every 1ms*/
  11          /* Private function prototypes -----------------------------------------------*/
  12          
  13          /* Exported functions --------------------------------------------------------*/
  14          void SystemTickInit(void)
  15          {
  16   1        TMOD = TMOD | 0x01;     /*T0 - Mode2: 16 -Bit Auto Reload, Timer, Software Control*/
  17   1        TL0 =  T0_PERIOD;       /*T0 - Reload Register Low*/
  18   1        TH0 =  T0_PERIOD >> 8;  /*T0 - Reload Reighster High*/
  19   1        TR0 = 1;                /*T0 - Timer 0 ON*/
  20   1        ET0 = 1;                /*T0 - Interrupt Enable */
  21   1      }
  22          
  23          uint32_t GetTick(void)
  24          {
  25   1        return (SysTick);
  26   1      }
  27          
  28          /* Interrupts -----------------------------------------------------------------*/
  29          void timer0 (void) interrupt 1 using 1 /* Int Vector at 000BH, Reg Bank 1 */
  30          { 
  31   1        TL0 =  T0_PERIOD;       /*T0 - Reload Register Low*/
  32   1        TH0 =  T0_PERIOD >> 8;  /*T0 - Reload Reighster High*/
  33   1        SysTick++;
  34   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     66    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
